# Hugo Static Site
#
# Use when: Building a Hugo-based website or blog
# Output: Generates site in public/
#
# Required files:
#   hugo.toml (or config.toml)
#   content/
#   ├── _index.md
#   └── posts/
#   themes/
#   └── your-theme/

pages:
  image: registry.gitlab.com/pages/hugo:latest
  stage: deploy
  script:
    - hugo --minify
  pages: true
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

# Alternative with specific Hugo version
# pages:
#   image: golang:1.21
#   stage: deploy
#   variables:
#     HUGO_VERSION: "0.121.0"
#   before_script:
#     - wget -O hugo.tar.gz https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.tar.gz
#     - tar -xzf hugo.tar.gz
#     - mv hugo /usr/local/bin/
#   script:
#     - hugo --minify
#   pages: true
#   rules:
#     - if: $CI_COMMIT_BRANCH == "main"
